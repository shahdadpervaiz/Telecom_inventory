<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telecom - Inventory System</title>
    <style>
        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }
        
        /* Dashboard Layout */
        .dashboard-container {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        
        /* Header Styles */
        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 2rem;
            background-color: #fff;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .header-left {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .header-left img {
            height: 40px;
        }
        
        .header-left h1 {
            color: #e1000a; /* Jazz red color */
            font-size: 1.5rem;
        }
        
        .header-right {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        /* Navigation */
        .main-nav {
            background-color: #2c3e50;
        }
        
        .main-nav ul {
            display: flex;
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .main-nav li {
            flex: 1;
            text-align: center;
        }
        
        .main-nav a {
            display: block;
            color: #ecf0f1;
            text-decoration: none;
            padding: 1rem;
            transition: background-color 0.3s;
        }
        
        .main-nav a:hover, .main-nav a.active {
            background-color: #34495e;
        }
        
        /* Main Content */
        .main-content {
            flex: 1;
            padding: 2rem;
            max-width: 1200px;
            margin: 0 auto;
            width: 100%;
        }
        
        .content-header {
            margin-bottom: 1.5rem;
        }
        
        .content-header h2 {
            color: #2c3e50;
            border-bottom: 2px solid #e1000a;
            padding-bottom: 0.5rem;
            font-size: 1.5rem;
        }
        
        /* Filter Styles */
        .filters-container {
            background-color: #fff;
            border-radius: 8px;
            padding: 1.5rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            margin-bottom: 2rem;
        }
        
        .filter-row {
            display: flex;
            gap: 1.5rem;
            margin-bottom: 1.2rem;
            flex-wrap: wrap;
        }
        
        .filter-group {
            flex: 1;
            min-width: 280px;
        }
        
        .filter-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            font-size: 0.9rem;
            color: #2c3e50;
        }
        
        .filter-group input, .filter-group select {
            width: 100%;
            padding: 0.7rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 0.95rem;
            transition: border-color 0.3s;
        }
        
        .filter-group input:focus, .filter-group select:focus {
            border-color: #e1000a;
            outline: none;
            box-shadow: 0 0 0 2px rgba(225, 0, 10, 0.1);
        }
        
        /* Tabs */
        .tabs {
            display: flex;
            margin: 1.5rem 0;
            border-bottom: 1px solid #ddd;
            flex-wrap: wrap;
        }
        
        .tab-btn {
            padding: 0.75rem 1.2rem;
            background: none;
            border: none;
            cursor: pointer;
            font-weight: 600;
            color: #7f8c8d;
            border-bottom: 3px solid transparent;
            font-size: 0.95rem;
            transition: all 0.2s;
        }
        
        .tab-btn.active {
            color: #e1000a;
            border-bottom-color: #e1000a;
        }
        
        .tab-btn:hover {
            color: #e1000a;
            background-color: #f9f9f9;
        }
        
        /* Button Styles */
        .filter-buttons, .action-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
            flex-wrap: wrap;
        }
        
        .btn-primary, .btn-secondary, .btn-logout {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            font-size: 0.95rem;
        }
        
        .btn-primary {
            background-color: #e1000a;
            color: white;
        }
        
        .btn-primary:hover {
            background-color: #c10008;
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(225, 0, 10, 0.2);
        }
        
        .btn-secondary {
            background-color: #ecf0f1;
            color: #2c3e50;
            border: 1px solid #bdc3c7;
        }
        
        .btn-secondary:hover {
            background-color: #dde4e6;
            transform: translateY(-1px);
        }
        
        .btn-logout {
            background-color: #e74c3c;
            color: white;
        }
        
        .btn-logout:hover {
            background-color: #c0392b;
        }
        
        /* Results Container */
        .results-container {
            background-color: #fff;
            border-radius: 8px;
            padding: 1.5rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            margin-bottom: 2rem;
            display: none;
        }
        
        .results-container h3 {
            margin-bottom: 1.2rem;
            color: #2c3e50;
            font-size: 1.2rem;
        }
        
        .batch-header {
            background-color: #f8f9fa;
            padding: 1rem;
            border-radius: 6px;
            margin-bottom: 1rem;
            border-left: 4px solid #e1000a;
        }
        
        .batch-header h4 {
            color: #2c3e50;
            margin-bottom: 0.5rem;
        }
        
        .batch-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .batch-detail-item {
            font-size: 0.9rem;
        }
        
        .batch-detail-item strong {
            color: #2c3e50;
        }
        
        .results-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.95rem;
            margin-top: 1rem;
        }
        
        .results-table th, .results-table td {
            padding: 0.85rem;
            text-align: left;
            border-bottom: 1px solid #eaecef;
        }
        
        .results-table th {
            background-color: #f8f9fa;
            font-weight: 600;
            color: #2c3e50;
        }
        
        .results-table tr:hover {
            background-color: #f8f9fa;
        }
        
        /* Status Indicators */
        .status-running, .status-completed, .status-normal {
            padding: 0.35rem 0.7rem;
            border-radius: 4px;
            font-size: 0.85rem;
            font-weight: 600;
            display: inline-block;
        }
        
        .status-running {
            background-color: #ffeaa7;
            color: #d35400;
        }
        
        .status-completed {
            background-color: #d5f5e3;
            color: #27ae60;
        }
        
        .status-normal {
            background-color: #d6eaf8;
            color: #2980b9;
        }
        
        /* Error message styling */
        .error-message {
            background-color: #ffebee;
            color: #c62828;
            padding: 1rem;
            border-radius: 4px;
            margin: 1rem 0;
            display: none;
            font-size: 0.95rem;
        }
        
        /* Logo fallback styling */
        .logo-fallback {
            height: 40px;
            width: 150px;
            background-color: #e1000a;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            border-radius: 4px;
            font-size: 1.1rem;
        }
        
        /* No results message */
        .no-results {
            text-align: center;
            padding: 2rem;
            color: #7f8c8d;
            display: none;
            font-size: 1rem;
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            .main-content {
                padding: 1rem;
            }
            
            .filter-group {
                min-width: 100%;
            }
            
            .filter-row {
                gap: 1rem;
            }
            
            .dashboard-header {
                flex-direction: column;
                text-align: center;
                gap: 1rem;
                padding: 1rem;
            }
            
            .header-right {
                flex-direction: column;
            }
            
            .tabs {
                overflow-x: auto;
                white-space: nowrap;
                flex-wrap: nowrap;
            }
            
            .batch-details {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Find Transactions Page -->
    <div id="findTransactionsPage" class="page-container active">
        <div class="dashboard-container">
            <header class="dashboard-header">
                <div class="header-left">
                    <div class="logo-fallback">TELECOM</div>
                    <h1>Inventory System</h1>
                </div>
                <div class="header-right">
                    <span>Welcome, <strong>Admin</strong></span>
                    <button class="btn-logout">Logout</button>
                </div>
            </header>
            
            <nav class="main-nav">
                <ul>
                    <li><a href="#" class="nav-link active">Find Transactions</a></li>
                </ul>
            </nav>
            
            <main class="main-content">
                <div class="content-header">
                    <h2>Find Receiving Transactions (C01)</h2>
                </div>
                
                <div class="error-message" id="pageError">
                    Error: The requested page could not be loaded. Please try again.
                </div>
                
                <div class="filters-container">
                    <div class="filter-row">
                        <div class="filter-group">
                            <label>Supplier and Internal</label>
                            <select>
                                <option>All</option>
                                <option>Supplier</option>
                                <option>Internal</option>
                            </select>
                        </div>
                        
                        <div class="filter-group">
                            <label>Customer</label>
                            <input type="text" placeholder="Enter customer name">
                        </div>
                    </div>
                    
                    <div class="filter-row">
                        <div class="filter-group">
                            <label>Operating Unit</label>
                            <input type="text" placeholder="e.g. Operations">
                        </div>
                        
                        <div class="filter-group">
                            <label>Source Type</label>
                            <select>
                                <option>All</option>
                                <option>Receipt</option>
                                <option>Purchase Order</option>
                                <option>Release</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="filter-row">
                        <div class="filter-group">
                            <label>Line</label>
                            <input type="text" placeholder="Enter line number">
                        </div>
                        
                        <div class="filter-group">
                            <label>Shipment</label>
                            <input type="text" placeholder="Enter shipment ID">
                        </div>
                    </div>
                    
                    <div class="filter-row">
                        <div class="filter-group">
                            <label>Requisition Line</label>
                            <input type="text" placeholder="Enter requisition line">
                        </div>
                        
                        <div class="filter-group">
                            <label>Shipment Number</label>
                            <input type="text" placeholder="Enter shipment number">
                        </div>
                    </div>
                    
                    <div class="filter-row">
                        <div class="filter-group">
                            <label>Supplier</label>
                            <input type="text" placeholder="Enter supplier name">
                        </div>
                        
                        <div class="filter-group">
                            <label>Supplier Site</label>
                            <input type="text" placeholder="Enter supplier site">
                        </div>
                    </div>
                    
                    <div class="filter-row">
                        <div class="filter-group">
                            <label>Current Location</label>
                            <input type="text" placeholder="Enter current location">
                        </div>
                    </div>
                    
                    <div class="tabs">
                        <button class="tab-btn active">Item</button>
                        <button class="tab-btn">Receipt Details</button>
                        <button class="tab-btn">Transaction Details</button>
                        <button class="tab-btn">Shipments</button>
                        <button class="tab-btn">Destination</button>
                    </div>
                    
                    <div class="filter-row">
                        <div class="filter-group">
                            <label>Item</label>
                            <input type="text" placeholder="Enter item and revision">
                        </div>
                        
                        <div class="filter-group">
                            <label>Category</label>
                            <input type="text" placeholder="Enter category">
                        </div>
                    </div>
                    
                    <div class="filter-row">
                        <div class="filter-group">
                            <label>Description</label>
                            <input type="text" placeholder="Enter description">
                        </div>
                        
                        <div class="filter-group">
                            <label>Batch ID</label>
                            <input type="text" id="batchIdInput" placeholder="Enter batch ID">
                        </div>
                    </div>
                    
                    <div class="filter-buttons">
                        <button class="btn-primary" id="findButton">Find</button>
                        <button class="btn-secondary" id="clearButton">Clear</button>
                    </div>
                </div>
                
                <div class="results-container" id="resultsContainer">
                    <h3>Search Results</h3>
                    <div class="no-results" id="noResults">No batches found matching your criteria.</div>
                    <div id="batchResults">
                        <!-- Batch results will be populated here -->
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script>
        // Sample batch data with multiple transactions per batch
        const batchData = [
            {
                "batchId": "BATCH-001",
                "supplier": "Jazz Internal",
                "date": "2023-10-15",
                "status": "Completed",
                "totalItems": 3,
                "transactions": [
                    { "id": "TRX-001", "item": "simcard", "quantity": 100, "date": "2023-10-15", "status": "Completed" },
                    { "id": "TRX-002", "item": "handsets", "quantity": 50, "date": "2023-10-15", "status": "Completed" },
                    { "id": "TRX-003", "item": "scratch card", "quantity": 200, "date": "2023-10-15", "status": "Completed" }
                ]
            },
            {
                "batchId": "BATCH-002",
                "supplier": "Samsung",
                "date": "2023-10-14",
                "status": "Pending",
                "totalItems": 2,
                "transactions": [
                    { "id": "TRX-004", "item": "handsets", "quantity": 75, "date": "2023-10-14", "status": "Pending" },
                    { "id": "TRX-005", "item": "tablets", "quantity": 25, "date": "2023-10-14", "status": "Pending" }
                ]
            },
            {
                "batchId": "BATCH-003",
                "supplier": "Zong Internal",
                "date": "2023-10-13",
                "status": "Shipped",
                "totalItems": 4,
                "transactions": [
                    { "id": "TRX-006", "item": "simcard", "quantity": 150, "date": "2023-10-13", "status": "Shipped" },
                    { "id": "TRX-007", "item": "scratch card", "quantity": 250, "date": "2023-10-13", "status": "Shipped"}
                ]
            },
            {
                "batchId": "BATCH-004",
                "supplier": "Huawei",
                "date": "2023-10-12",
                "status": "Processing",
                "totalItems": 3,
                "transactions": [
                    { "id": "TRX-010", "item": "handsets", "quantity": 60, "date": "2023-10-12", "status": "Processing" },
                    { "id": "TRX-011", "item": "tablets", "quantity": 20, "date": "2023-10-12", "status": "Processing" },
                    { "id": "TRX-012", "item": "smartwatches", "quantity": 15, "date": "2023-10-12", "status": "Processing" }
                ]
            },
            {
                "batchId": "BATCH-005",
                "supplier": "Ufone Internal",
                "date": "2023-10-11",
                "status": "Completed",
                "totalItems": 2,
                "transactions": [
                    { "id": "TRX-013", "item": "simcard", "quantity": 80, "date": "2023-10-11", "status": "Completed" },
                    { "id": "TRX-014", "item": "scratch card", "quantity": 190, "date": "2023-10-11", "status": "Completed" }
                ]
            }
        ];

        document.addEventListener('DOMContentLoaded', function() {
            // Check if user is logged in (using sessionStorage)
            const isLoggedIn = sessionStorage.getItem('isLoggedIn');
            
            if (!isLoggedIn) {
                // For demo purposes, set as logged in
                sessionStorage.setItem('isLoggedIn', 'true');
            }
            
            // Initially hide the results container
            document.getElementById('resultsContainer').style.display = 'none';
            
            // Find button functionality
            const findButton = document.getElementById('findButton');
            if (findButton) {
                findButton.addEventListener('click', function() {
                    searchBatches();
                });
            }
            
            // Clear button functionality
            const clearButton = document.getElementById('clearButton');
            if (clearButton) {
                clearButton.addEventListener('click', function() {
                    document.getElementById('batchIdInput').value = '';
                    document.getElementById('resultsContainer').style.display = 'none';
                });
            }
            
            // Tab functionality for transactions page
            const tabButtons = document.querySelectorAll('.tab-btn');
            if (tabButtons.length > 0) {
                tabButtons.forEach(button => {
                    button.addEventListener('click', function() {
                        // Remove active class from all buttons
                        tabButtons.forEach(btn => btn.classList.remove('active'));
                        
                        // Add active class to clicked button
                        this.classList.add('active');
                    });
                });
            }
            
            // Logout button functionality
            const logoutBtns = document.querySelectorAll('.btn-logout');
            logoutBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    if (confirm('Are you sure you want to logout?')) {
                        // Clear login status and redirect to login page
                        sessionStorage.removeItem('isLoggedIn');
                        window.location.href = 'index.html';
                    }
                });
            });
            
            // Function to search batches
            function searchBatches() {
                const searchTerm = document.getElementById('batchIdInput').value.trim();
                
                // Show the results container
                document.getElementById('resultsContainer').style.display = 'block';
                document.getElementById('noResults').style.display = 'none';
                
                // Simulate API call delay
                setTimeout(function() {
                    let filteredBatches;
                    
                    if (searchTerm === '') {
                        // If no search term entered, show all batches
                        filteredBatches = batchData;
                    } else if (searchTerm.startsWith('BATCH-')) {
                        // If search term starts with BATCH-, search by batch ID
                        filteredBatches = batchData.filter(batch => 
                            batch.batchId.toLowerCase().includes(searchTerm.toLowerCase())
                        );
                    } else {
                        // Otherwise search by supplier name
                        filteredBatches = batchData.filter(batch => 
                            batch.supplier.toLowerCase().includes(searchTerm.toLowerCase())
                        );
                    }
                    
                    // Display filtered results
                    displayBatches(filteredBatches);
                    
                    // Show no results message if no batches found
                    if (filteredBatches.length === 0) {
                        document.getElementById('noResults').style.display = 'block';
                    }
                }, 300); // Simulate API delay
            }
            
            // Function to display batches with their transactions
            function displayBatches(batches) {
                const batchResults = document.getElementById('batchResults');
                batchResults.innerHTML = '';
                
                batches.forEach(batch => {
                    const batchElement = document.createElement('div');
                    batchElement.className = 'batch-result';
                    
                    // Add appropriate status class
                    let statusClass = 'status status-normal';
                    if (batch.status === 'Completed') statusClass = 'status status-completed';
                    if (batch.status === 'Pending' || batch.status === 'Processing') statusClass = 'status status-running';
                    
                    batchElement.innerHTML = `
                        <div class="batch-header">
                            <h4>Batch ID: ${batch.batchId}</h4>
                            <div class="batch-details">
                                <div class="batch-detail-item"><strong>Supplier:</strong> ${batch.supplier}</div>
                                <div class="batch-detail-item"><strong>Date:</strong> ${batch.date}</div>
                                <div class="batch-detail-item"><strong>Status:</strong> <span class="${statusClass}">${batch.status}</span></div>
                                <div class="batch-detail-item"><strong>Total Items:</strong> ${batch.totalItems}</div>
                            </div>
                        </div>
                        <table class="results-table">
                            <thead>
                                <tr>
                                    <th>Transaction ID</th>
                                    <th>Item</th>
                                    <th>Quantity</th>
                                    <th>Date</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${batch.transactions.map(transaction => {
                                    let transactionStatusClass = 'status status-normal';
                                    if (transaction.status === 'Completed') transactionStatusClass = 'status status-completed';
                                    if (transaction.status === 'Pending' || transaction.status === 'Processing') transactionStatusClass = 'status status-running';
                                    
                                    return `
                                        <tr>
                                            <td>${transaction.id}</td>
                                            <td>${transaction.item}</td>
                                            <td>${transaction.quantity}</td>
                                            <td>${transaction.date}</td>
                                            <td><span class="${transactionStatusClass}">${transaction.status}</span></td>
                                        </tr>
                                    `;
                                }).join('')}
                            </tbody>
                        </table>
                    `;
                    
                    batchResults.appendChild(batchElement);
                });
            }
        });
    </script>
</body>

</html>
